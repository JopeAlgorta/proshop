{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","actions/productActions.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","components/ProductCarousel.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/SignupScreen.js","actions/orderActions.js","screens/ProfileScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/EditUserScreen.js","screens/ProductListScreen.js","screens/ProductFormScreen.js","screens/OrderListScreen.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAILED","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILED","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAILED","PRODUCT_CREATE_OR_UPDATE_REQUEST","PRODUCT_CREATE_OR_UPDATE_SUCCESS","PRODUCT_CREATE_OR_UPDATE_FAILED","PRODUCT_CREATE_OR_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAILED","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAILED","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_CLEAR_ITEMS","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_SIGNUP_REQUEST","USER_SIGNUP_SUCCESS","USER_SIGNUP_FAILED","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILED","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAILED","USER_DETAILS_RESET","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILED","USER_UPDATE_RESET","USER_LOGOUT","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILED","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAILED","ADMIN_USER_UPDATE_REQUEST","ADMIN_USER_UPDATE_SUCCESS","ADMIN_USER_UPDATE_FAILED","ADMIN_USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAILED","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAILED","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAILED","ORDER_PAY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAILED","ORDER_LIST_RESET","ORDER_ADMIN_LIST_REQUEST","ORDER_ADMIN_LIST_SUCCESS","ORDER_ADMIN_LIST_FAILED","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAILED","ORDER_DELIVER_RESET","reducer","combineReducers","productList","state","products","action","type","loading","payload","error","productDetails","product","productDelete","success","productCreateOrUpdate","productReviewCreate","productTopRated","cart","cartItems","shippingAddress","item","existItem","find","x","map","id","filter","p","paymentMethod","userLogin","userInfo","userSignup","userDetails","user","userUpdate","update","userList","users","userUpdateAdmin","userDelete","orderCreate","order","orderDetails","orderPay","orderList","orders","orderListAdmin","orderDeliver","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middlewares","thunk","store","createStore","composeWithDevTools","applyMiddleware","getUserDetails","dispatch","getState","a","axios","headers","ContentType","Authorization","token","data","response","detail","message","SearchBox","history","useHistory","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","push","location","pathname","inline","Control","name","onChange","target","value","className","Button","variant","Header","useDispatch","useSelector","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","Link","NavDropdown","title","Item","isAdmin","onClick","clear","Footer","Row","Col","listProducts","showProduct","createOrUpdateProduct","put","post","Rating","text","color","style","Product","Card","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Loader","minHeight","display","justifyContent","alignItems","Spinner","animation","role","maxHeight","height","width","margin","Message","children","Alert","Paginate","pages","page","entity","split","Pagination","Array","keys","active","ProductCarousel","useEffect","Carousel","pause","Image","alt","roundedCircle","Caption","HomeScreen","search","length","pr","sm","md","lg","xl","ProductScreen","match","qty","setQty","setRating","comment","setComment","loadingReview","errorReview","successReview","params","undefined","fluid","ListGroup","description","countInStock","xs","disabled","reviews","r","Date","createdAt","toDateString","productId","review","createProductReview","Group","controlId","Label","rows","addToCart","setItem","stringify","CartScreen","Number","onDelete","removeFromCart","i","rounded","reduce","acc","toFixed","FormContainer","LoginScreen","email","setEmail","password","setPassword","redirect","username","login","placeholder","SignupScreen","setName","confirmPassword","setConfirmPassword","setMessage","signup","required","deliverOrder","isDelivered","ProfileScreen","loadingOrders","ordersError","updateUser","Table","striped","responsive","o","totalPrice","isPaid","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","itemsPrice","shippingPrice","taxPrice","removeItem","createOrder","orderItems","OrderScreen","loadingPay","successPay","loadingDeliver","successDeliver","sdkReady","setSdkReady","referrer","setReferrer","orderId","setTimeout","items","window","paypal","script","document","createElement","async","onload","body","appendChild","addPayPalScript","goBack","href","deliveredAt","paidAt","amount","onSuccess","paymentResult","payOrder","UserListScreen","show","modal","setModal","getUsers","bordered","hover","u","Modal","onHide","closeButton","delete","EditUserScreen","setIsAdmin","userId","adminUpdateUser","ProductListScreen","category","ProductFormScreen","productLoading","productError","isCreateForm","brand","setBrand","setCategory","setPrice","setDescription","setCountInStock","setImage","formData","FormData","append","InputGroup","Prepend","step","File","custom","files","OrderListScreen","getOrdersAdmin","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.114918b8.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAILED = 'PRODUCT_LIST_FAILED';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAILED = 'PRODUCT_DETAILS_FAILED';\r\nexport const PRODUCT_DETAILS_RESET = 'PRODUCT_DETAILS_RESET';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAILED = 'PRODUCT_DELETE_FAILED';\r\n\r\nexport const PRODUCT_CREATE_OR_UPDATE_REQUEST = 'PRODUCT_CREATE_OR_UPDATE_REQUEST';\r\nexport const PRODUCT_CREATE_OR_UPDATE_SUCCESS = 'PRODUCT_CREATE_OR_UPDATE_SUCCESS';\r\nexport const PRODUCT_CREATE_OR_UPDATE_FAILED = 'PRODUCT_CREATE_OR_UPDATE_FAILED';\r\nexport const PRODUCT_CREATE_OR_UPDATE_RESET = 'PRODUCT_CREATE_OR_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAILED = 'PRODUCT_CREATE_REVIEW_FAILED';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\nexport const PRODUCT_TOP_FAILED = 'PRODUCT_TOP_FAILED';\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_CLEAR_ITEMS = 'CART_CLEAR_ITEMS';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\n","export const USER_SIGNUP_REQUEST = 'USER_SIGNUP_REQUEST';\r\nexport const USER_SIGNUP_SUCCESS = 'USER_SIGNUP_SUCCESS';\r\nexport const USER_SIGNUP_FAILED = 'USER_SIGNUP_FAILED';\r\n\r\nexport const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAILED = 'USER_LOGIN_FAILED';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAILED = 'USER_DETAILS_FAILED';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAILED = 'USER_UPDATE_FAILED';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAILED = 'USER_LIST_FAILED';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAILED = 'USER_DELETE_FAILED';\r\n\r\nexport const ADMIN_USER_UPDATE_REQUEST = 'ADMIN_USER_UPDATE_REQUEST';\r\nexport const ADMIN_USER_UPDATE_SUCCESS = 'ADMIN_USER_UPDATE_SUCCESS';\r\nexport const ADMIN_USER_UPDATE_FAILED = 'ADMIN_USER_UPDATE_FAILED';\r\nexport const ADMIN_USER_UPDATE_RESET = 'ADMIN_USER_UPDATE_RESET';\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAILED = 'ORDER_CREATE_FAILED';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAILED = 'ORDER_DETAILS_FAILED';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAILED = 'ORDER_PAY_FAILED';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAILED = 'ORDER_LIST_FAILED';\r\nexport const ORDER_LIST_RESET = 'ORDER_LIST_RESET';\r\n\r\nexport const ORDER_ADMIN_LIST_REQUEST = 'ORDER_ADMIN_LIST_REQUEST';\r\nexport const ORDER_ADMIN_LIST_SUCCESS = 'ORDER_ADMIN_LIST_SUCCESS';\r\nexport const ORDER_ADMIN_LIST_FAILED = 'ORDER_ADMIN_LIST_FAILED';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAILED = 'ORDER_DELIVER_FAILED';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n\tproductCreateOrUpdateReducer,\r\n\tproductDeleteReducer,\r\n\tproductDetailsReducer,\r\n\tproductListReducer,\r\n\tproductReviewCreateReducer,\r\n\tproductTopRatedReducer\r\n} from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n\tuserDetailsReducer,\r\n\tuserListReducer,\r\n\tuserLoginReducer,\r\n\tuserSignupReducer,\r\n\tuserUpdateReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateAdminReducer\r\n} from './reducers/userReducers';\r\nimport {\r\n\torderCreateReducer,\r\n\torderDeliverReducer,\r\n\torderDetailsReducer,\r\n\torderListAdminReducer,\r\n\torderListReducer,\r\n\torderPayReducer\r\n} from './reducers/orderReducers';\r\n\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreateOrUpdate: productCreateOrUpdateReducer,\r\n\tproductReviewCreate: productReviewCreateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserSignup: userSignupReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\tuserList: userListReducer,\r\n\tuserUpdateAdmin: userUpdateAdminReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderList: orderListReducer,\r\n\torderListAdmin: orderListAdminReducer,\r\n\torderDeliver: orderDeliverReducer\r\n});\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: [];\r\n\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {};\r\n\r\nconst paymentMethodFromStorage = localStorage.getItem('paymentMethod')\r\n\t? JSON.parse(localStorage.getItem('paymentMethod'))\r\n\t: null;\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shippingAddressFromStorage,\r\n\t\tpaymentMethod: paymentMethodFromStorage\r\n\t},\r\n\tuserLogin: { userInfo: userInfoFromStorage }\r\n};\r\n\r\nconst middlewares = [thunk];\r\n\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middlewares)));\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_FAILED,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_DETAILS_FAILED,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAILED,\r\n\tPRODUCT_CREATE_OR_UPDATE_REQUEST,\r\n\tPRODUCT_CREATE_OR_UPDATE_SUCCESS,\r\n\tPRODUCT_CREATE_OR_UPDATE_FAILED,\r\n\tPRODUCT_CREATE_OR_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILED,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAILED\r\n} from '../constants/productConstants';\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, ...action.payload };\r\n\t\tcase PRODUCT_LIST_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDetailsReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_DELETE_FAILED:\r\n\t\t\treturn { loading: false, success: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productCreateOrUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_OR_UPDATE_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase PRODUCT_CREATE_OR_UPDATE_SUCCESS:\r\n\t\t\treturn { ...state, success: true, loading: false, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_OR_UPDATE_FAILED:\r\n\t\t\treturn { ...state, success: false, loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_OR_UPDATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productReviewCreateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { ...state, success: true, loading: false, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAILED:\r\n\t\t\treturn { ...state, success: false, loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase PRODUCT_TOP_SUCCESS:\r\n\t\t\treturn { ...state, loading: false, products: action.payload };\r\n\t\tcase PRODUCT_TOP_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_CLEAR_ITEMS,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_SAVE_SHIPPING_ADDRESS\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\t\t\tconst existItem = state.cartItems.find(x => x.product === item.product);\r\n\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map(x => (x.product === existItem.product ? item : x))\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn { ...state, cartItems: [...state.cartItems, item] };\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\tconst id = action.payload;\r\n\t\t\tconst products = state.cartItems.filter(p => p.product !== id);\r\n\t\t\treturn { ...state, cartItems: [...products] };\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn { ...state, shippingAddress: action.payload };\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn { ...state, paymentMethod: action.payload };\r\n\t\tcase CART_CLEAR_ITEMS:\r\n\t\t\treturn { ...state, cartItems: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tUSER_LOGIN_FAILED,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_SIGNUP_REQUEST,\r\n\tUSER_SIGNUP_SUCCESS,\r\n\tUSER_SIGNUP_FAILED,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAILED,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILED,\r\n\tUSER_UPDATE_RESET,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILED,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_FAILED,\r\n\tUSER_DELETE_SUCCESS,\r\n\tADMIN_USER_UPDATE_REQUEST,\r\n\tADMIN_USER_UPDATE_SUCCESS,\r\n\tADMIN_USER_UPDATE_FAILED,\r\n\tADMIN_USER_UPDATE_RESET\r\n} from '../constants/userConstants';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userSignupReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_SIGNUP_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_SIGNUP_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_SIGNUP_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_UPDATE_FAILED:\r\n\t\t\treturn { loading: false, update: false, error: action.payload };\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, ...action.payload };\r\n\t\tcase USER_LIST_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_DELETE_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateAdminReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADMIN_USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ADMIN_USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase ADMIN_USER_UPDATE_FAILED:\r\n\t\t\treturn { loading: false, success: false, error: action.payload };\r\n\t\tcase ADMIN_USER_UPDATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tORDER_ADMIN_LIST_FAILED,\r\n\tORDER_ADMIN_LIST_REQUEST,\r\n\tORDER_ADMIN_LIST_SUCCESS,\r\n\tORDER_CREATE_FAILED,\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_RESET,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_DELIVER_FAILED,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_RESET,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DETAILS_FAILED,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_LIST_FAILED,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_RESET,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_PAY_FAILED,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_RESET,\r\n\tORDER_PAY_SUCCESS\r\n} from '../constants/orderConstants';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, order: action.payload };\r\n\t\tcase ORDER_CREATE_FAILED:\r\n\t\t\treturn { ...state, success: false, loading: false, error: action.payload };\r\n\t\tcase ORDER_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDetailsReducer = (state = { loading: true }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn { ...state, loading: false, order: action.payload };\r\n\t\tcase ORDER_DETAILS_FAILED:\r\n\t\t\treturn { ...state, loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase ORDER_PAY_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, orders: action.payload };\r\n\t\tcase ORDER_LIST_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase ORDER_LIST_RESET:\r\n\t\t\treturn { orders: [] };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListAdminReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_ADMIN_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_ADMIN_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, ...action.payload };\r\n\t\tcase ORDER_ADMIN_LIST_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase ORDER_DELIVER_FAILED:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import axios from 'axios';\r\nimport { ORDER_LIST_RESET } from '../constants/orderConstants';\r\nimport {\r\n\tUSER_LOGIN_FAILED,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_SIGNUP_REQUEST,\r\n\tUSER_SIGNUP_SUCCESS,\r\n\tUSER_SIGNUP_FAILED,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAILED,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILED,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILED,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAILED,\r\n\tADMIN_USER_UPDATE_REQUEST,\r\n\tADMIN_USER_UPDATE_SUCCESS,\r\n\tADMIN_USER_UPDATE_FAILED,\r\n\tADMIN_USER_UPDATE_RESET\r\n} from '../constants/userConstants';\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REQUEST });\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login/',\r\n\t\t\t{ username: email, password },\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const signup = (name, email, password) => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_SIGNUP_REQUEST });\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/signup/',\r\n\t\t\t{ name, email, password },\r\n\t\t\t{ headers: { ContentType: 'application/json' } }\r\n\t\t);\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n\t\tdispatch({ type: USER_SIGNUP_SUCCESS, payload: data });\r\n\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_SIGNUP_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUserDetails = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios(`/api/users/${id}/`, {\r\n\t\t\theaders: {\r\n\t\t\t\tContentType: 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdispatch({ type: USER_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: ORDER_LIST_RESET });\r\n\tdispatch({ type: USER_LIST_RESET });\r\n\r\n\tlocalStorage.clear();\r\n};\r\n\r\nexport const updateUser = user => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/profile/`, user, {\r\n\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUsers =\r\n\t(page = '') =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_LIST_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo }\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst { data } = await axios(`/api/users/${page}`, {\r\n\t\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t});\r\n\r\n\t\t\tdispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LIST_FAILED,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const deleteUser = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tawait axios.delete(`/api/users/${id}/`, {\r\n\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: USER_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const adminUpdateUser = user => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ADMIN_USER_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/${user.id}/`, user, {\r\n\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: ADMIN_USER_UPDATE_SUCCESS, payload: data });\r\n\t\tdispatch({ type: ADMIN_USER_UPDATE_RESET });\r\n\t\tdispatch({ type: USER_DETAILS_RESET });\r\n\t\tif (Number(user.id) === userInfo.id) dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ADMIN_USER_UPDATE_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchBox = () => {\r\n\tlet history = useHistory();\r\n\tconst [keyword, setKeyword] = useState('');\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword) history.push(`/?keyword=${keyword}&page=1`);\r\n\t\telse history.push(history.location.pathname);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={onSubmit} inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='q'\r\n\t\t\t\tonChange={e => setKeyword(e.target.value)}\r\n\t\t\t\tclassName='mr-sm-2 ml-sm-5'></Form.Control>\r\n\t\t\t<Button type='submit' variant='outline-success' className='p-2'>\r\n\t\t\t\tSubmit\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../actions/userActions';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\r\n\tconst onLogout = e => {\r\n\t\tdispatch(logout());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>ProShop</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\t\t\t\t\t<Navbar.Collapse id='basic-navbar-nav'>\r\n\t\t\t\t\t\t<SearchBox />\r\n\t\t\t\t\t\t<Nav className='ml-auto'>\r\n\t\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart'></i> Cart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id='username'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t{userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/users'>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/products'>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orders'>\r\n\t\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={onLogout}>Logout</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-user'></i> Login\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nfunction Footer() {\r\n    return (\r\n\t\t<footer>\r\n            <Container>\r\n                <Row>\r\n                    <Col className=\"text-center py-3\">Copyright &copy; ProShop</Col>\r\n                </Row>\r\n            </Container>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer\r\n","import axios from 'axios';\r\nimport {\r\n\tPRODUCT_LIST_FAILED,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_DETAILS_FAILED,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_FAILED,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_CREATE_OR_UPDATE_REQUEST,\r\n\tPRODUCT_CREATE_OR_UPDATE_SUCCESS,\r\n\tPRODUCT_CREATE_OR_UPDATE_FAILED,\r\n\tPRODUCT_CREATE_OR_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILED,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAILED\r\n} from '../constants/productConstants';\r\n\r\nexport const listProducts =\r\n\t(keyword = '') =>\r\n\tasync dispatch => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios(`/api/products/${keyword}`);\r\n\r\n\t\t\tdispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAILED,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const showProduct = id => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\t\tconst { data } = await axios(`/api/products/${id}/`);\r\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tawait axios.delete(`/api/products/${id}/`, {\r\n\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createOrUpdateProduct = product => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_OR_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = product.id\r\n\t\t\t? await axios.put(`/api/products/${product.id}/`, product, {\r\n\t\t\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t  })\r\n\t\t\t: await axios.post('/api/products/', product, {\r\n\t\t\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t  });\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_OR_UPDATE_SUCCESS, payload: data });\r\n\t\tdispatch({ type: PRODUCT_CREATE_OR_UPDATE_RESET });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_OR_UPDATE_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProductReview = (productId, review) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.post(`/api/products/${productId}/reviews/`, review, {\r\n\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getTopProducts = () => async dispatch => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_TOP_REQUEST });\r\n\r\n\t\tconst { data } = await axios('/api/products/top/');\r\n\r\n\t\tdispatch({ type: PRODUCT_TOP_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_FAILED,\r\n\t\t\tpayload: error.response && error.response.data.detail ? error.response.data.detail : error.message\r\n\t\t});\r\n\t}\r\n};\r\n","import React from 'react';\r\n\r\nfunction Rating({ value, text, color }) {\r\n\treturn (\r\n\t\t<div className='rating'>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 1 ? 'fas fa-star' : value >= 0.5 ? 'fas fa-star-half-alt' : 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 2 ? 'fas fa-star' : value >= 1.5 ? 'fas fa-star-half-alt' : 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 3 ? 'fas fa-star' : value >= 2.5 ? 'fas fa-star-half-alt' : 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 4 ? 'fas fa-star' : value >= 3.5 ? 'fas fa-star-half-alt' : 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 5 ? 'fas fa-star' : value >= 4.5 ? 'fas fa-star-half-alt' : 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n            <span>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from './Rating';\r\n\r\nfunction Product({ product }) {\r\n\treturn (\r\n\t\t<Card className='my-3 p-3 rounded'>\r\n\t\t\t<Link to={`/product/${product.id}`}>\r\n\t\t\t\t<Card.Img src={product.image} />\r\n\t\t\t</Link>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product.id}`}>\r\n\t\t\t\t\t<Card.Title as='div'>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t<div className='my-3'>\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\tcolor={'#f8e825'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card.Text>\r\n\t\t\t\t<Card.Text as='h3'>${product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tminHeight: '100%',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\talignItems: 'center'\r\n\t\t\t}}>\r\n\t\t\t<Spinner\r\n\t\t\t\tanimation='border'\r\n\t\t\t\trole='status'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmaxHeight: '90%',\r\n\t\t\t\t\theight: '50px',\r\n\t\t\t\t\twidth: '50px',\r\n\t\t\t\t\tmargin: 'auto'\r\n\t\t\t\t}}>\r\n\t\t\t\t<span className='sr-only'>Loading...</span>\r\n\t\t\t</Spinner>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({ pages, page, keyword = '', isAdmin = false, entity = '' }) => {\r\n\tif (keyword) keyword = keyword.split('?keyword=')[1].split('&')[0];\r\n\r\n\treturn (\r\n\t\t<Pagination>\r\n\t\t\t{[...Array(pages).keys()].map(x => (\r\n\t\t\t\t<LinkContainer\r\n\t\t\t\t\tkey={x + 1}\r\n\t\t\t\t\tto={\r\n\t\t\t\t\t\tisAdmin\r\n\t\t\t\t\t\t\t? `/admin/${entity}/?keyword=${keyword}&page=${x + 1}`\r\n\t\t\t\t\t\t\t: `/?keyword=${keyword}&page=${x + 1}`\r\n\t\t\t\t\t}>\r\n\t\t\t\t\t<Pagination.Item active={x + 1 === page}>{x + 1}</Pagination.Item>\r\n\t\t\t\t</LinkContainer>\r\n\t\t\t))}\r\n\t\t</Pagination>\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import React, { useEffect } from 'react';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { getTopProducts } from '../actions/productActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { products, loading, error } = useSelector(state => state.productTopRated);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getTopProducts());\r\n\t}, [dispatch]);\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<Carousel pause='hover' className='bg-dark'>\r\n\t\t\t{products.map(p => (\r\n\t\t\t\t<Carousel.Item key={p.id}>\r\n\t\t\t\t\t<Link to={`/product/${p.id}`}>\r\n\t\t\t\t\t\t<div className='image-container'>\r\n\t\t\t\t\t\t\t<Image src={p.image} alt={p.name} roundedCircle />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Carousel.Caption className='carousel.caption'>\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{p.name} ($ {p.price})\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default ProductCarousel;\r\n","import React, { useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport Product from '../components/Product';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport ProductCarousel from '../components/ProductCarousel';\r\n\r\nfunction HomeScreen({ history }) {\r\n\tconst dispatch = useDispatch();\r\n\tconst { error, loading, products, pages, page } = useSelector(state => state.productList);\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword));\r\n\t}, [dispatch, keyword]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!keyword && <ProductCarousel />}\r\n\t\t\t<h1 className='mt-3'>Latest Products</h1>\r\n\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : products.length === 0 && keyword ? (\r\n\t\t\t\t<Message variant='info'>\r\n\t\t\t\t\tNo results for search: \"{keyword.split('?keyword=')[1].split('&')[0]}\"\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map(pr => (\r\n\t\t\t\t\t\t\t<Col key={pr.id} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={pr} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row className='justify-content-center'>\r\n\t\t\t\t\t\t<Paginate pages={pages} page={page} keyword={keyword} />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default HomeScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\r\nimport Rating from '../components/Rating';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createProductReview, showProduct } from '../actions/productActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\r\n\r\nfunction ProductScreen({ match, history }) {\r\n\tconst [qty, setQty] = useState(1);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [comment, setComment] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading, error, product } = useSelector(state => state.productDetails);\r\n\tconst {\r\n\t\tloading: loadingReview,\r\n\t\terror: errorReview,\r\n\t\tsuccess: successReview\r\n\t} = useSelector(state => state.productReviewCreate);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successReview) {\r\n\t\t\tsetRating(0);\r\n\t\t\tsetComment('');\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n\t\t}\r\n\t\tdispatch(showProduct(match.params.id));\r\n\t}, [match.params.id, dispatch, successReview]);\r\n\r\n\tconst onAddToCart = () => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`);\r\n\t};\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tconst productId = match.params.id;\r\n\t\tdispatch(createProductReview(productId, { rating, comment }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to='/' className='btn btn-light my-3'>\r\n\t\t\t\t<i className='fas fa-arrow-left'></i> Go back\r\n\t\t\t</Link>\r\n\t\t\t{loading === undefined || loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col lg={6}>\r\n\t\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t\t\tcolor={'#f8e825'}\r\n\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Description: {product.description}</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col lg={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>${product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs='auto' className='my-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setQty(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map(x => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={onAddToCart}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block '\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col xs={10}>Add to cart</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h4>Reviews</h4>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && <Message variant='info'>No reviews</Message>}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{product.reviews.map(r => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={r.id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='d-flex justify-content-between'>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{r.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t<small>{new Date(r.createdAt).toDateString()}</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={r.rating} color='#f8e825' />\r\n\t\t\t\t\t\t\t\t\t\t<p className='pt-3'>{r.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h4>Write a review</h4>\r\n\t\t\t\t\t\t\t\t\t{loadingReview && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{successReview && <Message variant='success'>Review submitted!</Message>}\r\n\t\t\t\t\t\t\t\t\t{errorReview && <Message variant='danger'>{errorReview}</Message>}\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setRating(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='0'>Select ...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>4 - Very good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={e => setComment(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingReview}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant='info'>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease <Link to='/login'>login</Link> to write a review\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProductScreen;\r\n","import axios from 'axios';\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_SAVE_SHIPPING_ADDRESS\r\n} from '../constants/cartConstants';\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n\tconst { data } = await axios(`/api/products/${id}/`);\r\n\r\n\tdispatch({\r\n\t\ttype: CART_ADD_ITEM,\r\n\t\tpayload: {\r\n\t\t\tproduct: data.id,\r\n\t\t\tname: data.name,\r\n\t\t\timage: data.image,\r\n\t\t\tprice: data.price,\r\n\t\t\tcountInStock: data.countInStock,\r\n\t\t\tqty\r\n\t\t}\r\n\t});\r\n\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = id => (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: CART_REMOVE_ITEM,\r\n\t\tpayload: id\r\n\t});\r\n\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = data => dispatch => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data\r\n\t});\r\n\r\n\tlocalStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = data => dispatch => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data\r\n\t});\r\n\r\n\tlocalStorage.setItem('paymentMethod', JSON.stringify(data));\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport { Col, Image, ListGroup, Row, Form, Button, Card } from 'react-bootstrap';\r\nimport Message from '../components/Message';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\tconst productId = match.params.id;\r\n\tconst qty = location.search ? Number(location.search.split('=', 2)[1]) : 1;\r\n\tconst dispatch = useDispatch();\r\n\tconst { cartItems } = useSelector(state => state.cart);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productId) dispatch(addToCart(productId, qty));\r\n\t}, [dispatch, productId, qty]);\r\n\r\n\tconst onDelete = id => {\r\n\t\tdispatch(removeFromCart(id));\r\n\t};\r\n\r\n\tconst onCheckout = () => {\r\n\t\thistory.push('/login?redirect=shipping');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message variant='info'>\r\n\t\t\t\t\t\tYour cart is empty <Link to='/'>Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map(i => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={i.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Image src={i.image} alt={i.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${i.product}`}>{i.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>${i.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={i.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={e =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(addToCart(i.product, Number(e.target.value)))\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(i.countInStock).keys()].map(x => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDelete(i.product)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h3>Subtotal ({cartItems.reduce((acc, i) => acc + i.qty, 0)}) items </h3>\r\n\t\t\t\t\t\t\t<h6>$ {cartItems.reduce((acc, i) => acc + i.qty * i.price, 0).toFixed(2)}</h6>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={onCheckout}\r\n\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col xs={2}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-credit-card'></i>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={10}>Go to Checkout</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartScreen;\r\n","import React from 'react';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Form, Row } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { login } from '../actions/userActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst { loading, userInfo, error } = useSelector(state => state.userLogin);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) history.push(redirect);\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(login(email, password));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign in</h1>\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter your email address...'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter your password...'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew customer?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/signup?redirect=${redirect}` : '/signup'}>Register</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Form, Row } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { signup } from '../actions/userActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\n\r\nconst SignupScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState('');\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading, error, userInfo } = useSelector(state => state.userSignup);\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (password !== confirmPassword) setMessage(\"Passwords doesn't match.\");\r\n\t\telse {\r\n\t\t\tdispatch(signup(name, email, password));\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) history.push(redirect);\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign up</h1>\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter your name...'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter your email address...'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter your password...'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Confirm your password...'\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={e => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tSign up\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tAlready a customer?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>Sign in</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default SignupScreen;\r\n","import axios from 'axios';\r\nimport { CART_CLEAR_ITEMS } from '../constants/cartConstants';\r\nimport {\r\n\tORDER_ADMIN_LIST_FAILED,\r\n\tORDER_ADMIN_LIST_REQUEST,\r\n\tORDER_ADMIN_LIST_SUCCESS,\r\n\tORDER_CREATE_FAILED,\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_DELIVER_FAILED,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DETAILS_FAILED,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_LIST_FAILED,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_PAY_FAILED,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS\r\n} from '../constants/orderConstants';\r\n\r\nexport const createOrder = order => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_CREATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.post('/api/orders/', order, {\r\n\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: ORDER_CREATE_SUCCESS, payload: data });\r\n\t\tdispatch({ type: CART_CLEAR_ITEMS });\r\n\r\n\t\tlocalStorage.removeItem('cartItems');\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAILED,\r\n\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrderDetails = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios(`/api/orders/${id}/`, {\r\n\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAILED,\r\n\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const payOrder = (id, paymentResult) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_PAY_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t\torderDetails: { order }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.put(`/api/orders/${id}/pay/`, paymentResult, {\r\n\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: { ...order, isPaid: true } });\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAILED,\r\n\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_LIST_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios('/api/orders/', {\r\n\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t});\r\n\r\n\t\tdispatch({ type: ORDER_LIST_SUCCESS, payload: data });\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAILED,\r\n\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrdersAdmin =\r\n\t(page = '') =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: ORDER_ADMIN_LIST_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo }\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst { data } = await axios(`/api/orders/admin/${page}`, {\r\n\t\t\t\theaders: { ContentType: 'application/json', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t});\r\n\r\n\t\t\tdispatch({ type: ORDER_ADMIN_LIST_SUCCESS, payload: data });\r\n\t\t} catch (e) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_ADMIN_LIST_FAILED,\r\n\t\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const deliverOrder = id => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DELIVER_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t\torderDetails: { order }\r\n\t\t} = getState();\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${id}/deliver/`,\r\n\t\t\t{},\r\n\t\t\t{\r\n\t\t\t\theaders: { Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tdispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: { ...order, isDelivered: true } });\r\n\t} catch (e) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAILED,\r\n\t\t\tpayload: e.response && e.response.data.detail ? e.response.data.detail : e.message\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Form, Row, Table } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getOrders } from '../actions/orderActions';\r\nimport { getUserDetails, updateUser } from '../actions/userActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading, error, user } = useSelector(state => state.userDetails);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (password !== confirmPassword) setMessage(\"Passwords doesn't match.\");\r\n\t\telse {\r\n\t\t\tdispatch(updateUser({ name, email, password }));\r\n\t\t\tsetMessage('');\r\n\t\t}\r\n\t};\r\n\r\n\tconst { success } = useSelector(state => state.userUpdate);\r\n\tconst { orders, loading: loadingOrders, error: ordersError } = useSelector(state => state.orderList);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) history.push('/login');\r\n\t\telse if (!user || !user.name || user.id !== userInfo.id || success) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\tdispatch(getUserDetails('profile'));\r\n\t\t\tdispatch(getOrders());\r\n\t\t} else {\r\n\t\t\tsetName(user.name);\r\n\t\t\tsetEmail(user.email);\r\n\t\t}\r\n\t}, [history, userInfo, user, dispatch, success]);\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder='Enter your name...'\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tplaceholder='Enter your email address...'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Enter your password...'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Confirm your password...'\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={e => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My Orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : ordersError ? (\r\n\t\t\t\t\t<Message variant='danger'>{ordersError}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table striped responsive className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t<th>Paid</th>\r\n\t\t\t\t\t\t\t\t<th>Delivered</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map(o => (\r\n\t\t\t\t\t\t\t\t<tr key={o.id}>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/order/${o.id}`}>{o.id}</Link>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>{new Date(o.createdAt).toDateString()}</td>\r\n\t\t\t\t\t\t\t\t\t<td>$ {o.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t{o.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ color: 'red' }}> &#10008; </td>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{o.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td style={{ color: 'red' }}> &#10008; </td>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className='justify-content-center mb-4'>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Login</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Login</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/order'>\r\n\t\t\t\t\t\t<Nav.Link>Place order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { shippingAddress } = useSelector(state => state.cart);\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress?.address ?? '');\r\n\tconst [city, setCity] = useState(shippingAddress?.city ?? '');\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress?.postalCode ?? '');\r\n\tconst [country, setCountry] = useState(shippingAddress?.country ?? '');\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n\t\thistory.push('/payment');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter your address...'\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\tonChange={e => setAddress(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='City'\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\tonChange={e => setCity(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<Form.Label>Postal Code</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='ZIP Code'\r\n\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\tonChange={e => setPostalCode(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Country'\r\n\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\tonChange={e => setCountry(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default ShippingScreen;\r\n","import React, { useState } from 'react';\r\nimport { Button, Col, Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { shippingAddress } = useSelector(state => state.cart);\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(savePaymentMethod(paymentMethod));\r\n\t\thistory.push('/order');\r\n\t};\r\n\r\n\tif (!shippingAddress.address) history.push('/shipping');\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as='legend'>Select Method</Form.Label>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='Paypal or Credit Card'\r\n\t\t\t\t\t\t\tid='paypal'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\tonChange={e => setPaymentMethod(e.target.value)}></Form.Check>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { Button, Card, Col, Image, ListGroup, Row } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createOrder } from '../actions/orderActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport Message from '../components/Message';\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { shippingAddress, cartItems, paymentMethod } = useSelector(state => state.cart);\r\n\tconst { order, error, success } = useSelector(state => state.orderCreate);\r\n\r\n\tconst itemsPrice = cartItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2);\r\n\tconst shippingPrice = itemsPrice > 100 ? 0 : 9.99;\r\n\tconst taxPrice = (0.082 * itemsPrice).toFixed(2);\r\n\tconst totalPrice = (Number(taxPrice) + shippingPrice + Number(itemsPrice)).toFixed(2);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\thistory.push(`/order/${order.id}?from=placeorder`);\r\n\t\t\tdispatch({ type: ORDER_CREATE_RESET });\r\n\t\t}\r\n\t}, [success, history, order, dispatch]);\r\n\r\n\tconst placeOrder = () => {\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cartItems,\r\n\t\t\t\tshippingAddress,\r\n\t\t\t\tpaymentMethod,\r\n\t\t\t\titemsPrice,\r\n\t\t\t\tshippingPrice,\r\n\t\t\t\ttaxPrice,\r\n\t\t\t\ttotalPrice\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Shipping: </strong>\r\n\t\t\t\t\t\t\t\t{shippingAddress.address}, {shippingAddress.city}\r\n\t\t\t\t\t\t\t\t{'    '}\r\n\t\t\t\t\t\t\t\t{shippingAddress.postalCode}\r\n\t\t\t\t\t\t\t\t{'    '}\r\n\t\t\t\t\t\t\t\t{shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message variant='info'>Your cart is empty.</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{cartItems.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} rounded fluid />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>{item.qty}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>X</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>${item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>$ {(item.qty * item.price).toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Subtotal:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{error && <Message variant='danger'>{error.message}</Message>}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={placeOrder}>\r\n\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Card, Col, Image, ListGroup, Row } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { deliverOrder, getOrderDetails, payOrder } from '../actions/orderActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { ORDER_DELIVER_RESET, ORDER_PAY_RESET } from '../constants/orderConstants';\r\n\r\nconst OrderScreen = ({ match, location, history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { order, error, loading } = useSelector(state => state.orderDetails);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\tconst { loading: loadingPay, success: successPay } = useSelector(state => state.orderPay);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = useSelector(state => state.orderDeliver);\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false);\r\n\tconst [referrer, setReferrer] = useState(location.search ? location.search.split('=')[1] : '');\r\n\tconst orderId = match.params.id;\r\n\r\n\tif (referrer) setTimeout(() => setReferrer(''), 3000);\r\n\r\n\tlet itemsPrice;\r\n\tif (!loading) itemsPrice = order.items.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2);\r\n\r\n\tconst addPayPalScript = () => {\r\n\t\tconst script = document.createElement('script');\r\n\t\tscript.type = 'text/javascript';\r\n\t\tscript.src =\r\n\t\t\t'https://www.paypal.com/sdk/js?client-id=ATBryFI1zIRQvyo-ab6m_yVH6pyJ2YP_YGRVYXZhQLZWjaV5UL-hsRTOLpNNwwlx8vFgPEMQWM61ZuuK';\r\n\t\tscript.async = true;\r\n\t\tscript.onload = () => setSdkReady(true);\r\n\t\tdocument.body.appendChild(script);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!order || successPay || successDeliver || order.id !== Number(orderId)) {\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderId));\r\n\t\t} else if (!order.isPaid) {\r\n\t\t\tif (!window.paypal) addPayPalScript();\r\n\t\t\telse setSdkReady(true);\r\n\t\t}\r\n\t}, [order, orderId, dispatch, successPay, successDeliver]);\r\n\r\n\tconst onPaymentSuccess = paymentResult => {\r\n\t\tdispatch(payOrder(orderId, paymentResult));\r\n\t};\r\n\r\n\tconst onDeliverOrder = () => {\r\n\t\tdispatch(deliverOrder(orderId));\r\n\t};\r\n\r\n\tif (loading) return <Loader />;\r\n\telse if (error) return <Message variant='danger'>{error}</Message>;\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{referrer && <Message variant='success'>Your order has been successfully placed!</Message>}\r\n\t\t\t<Row className='mb-3'>\r\n\t\t\t\t<Button variant='light' onClick={() => history.goBack()}>\r\n\t\t\t\t\t<i className='fas fa-arrow-left'></i> Go Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<h1>Order: {orderId}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name:</strong> {order.user.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email:</strong>{' '}\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.username}`}>{order.user.username}</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Shipping: </strong>\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.address}, {order.shippingAddress.city}\r\n\t\t\t\t\t\t\t\t{'    '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode}\r\n\t\t\t\t\t\t\t\t{'    '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tDelivered on: {new Date(order.deliveredAt).toDateString()}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='warning'>Not delivered yet.</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tPaid on: {new Date(order.paidAt).toDateString()}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='warning'>Not paid yet.</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{order.items.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message variant='info'>Your order is empty.</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{order.items.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} rounded fluid />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>{item.qty}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>X</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>${item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>$ {(item.qty * item.price).toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Subtotal:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total:</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>$ {order.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{!order.isPaid && order.user.id === userInfo.id && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\tamount={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={onPaymentSuccess}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!order.isPaid || order.isDelivered}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-block'\r\n\t\t\t\t\t\t\t\t\t\tonClick={onDeliverOrder}>\r\n\t\t\t\t\t\t\t\t\t\t{loadingDeliver ? <Loader /> : 'Deliver'}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OrderScreen;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Button, Modal, Row, Table } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { deleteUser, getUsers } from '../actions/userActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { users, loading, error, pages, page } = useSelector(state => state.userList);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\tconst { success } = useSelector(state => state.userDelete);\r\n\r\n\tconst [modal, setModal] = useState({ show: false, id: '' });\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo || !userInfo.isAdmin) return history.push('/');\r\n\t\tdispatch(getUsers(keyword));\r\n\t}, [dispatch, userInfo, history, success, keyword]);\r\n\r\n\tconst onDeleteConfirm = () => {\r\n\t\tdispatch(deleteUser(modal.id));\r\n\t\tsetModal({ id: '', show: false });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Table responsive bordered hover className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Admin</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Actions</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{users.map(u => (\r\n\t\t\t\t\t\t\t\t<tr key={u.id}>\r\n\t\t\t\t\t\t\t\t\t<td>{u.id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{u.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{u.email}</td>\r\n\t\t\t\t\t\t\t\t\t{u.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t&#10008;{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/user/${u.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant='info' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => setModal({ show: true, id: u.id })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Row className='justify-content-center'>\r\n\t\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin entity='users' />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t\t<Modal show={modal.show} onHide={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Deleting user...</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>Are you sure to delete this user?</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant='secondary' onClick={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant='danger' onClick={onDeleteConfirm}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserListScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { adminUpdateUser, getUserDetails } from '../actions/userActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { ADMIN_USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nconst EditUserScreen = ({ history, match }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading, error, user } = useSelector(state => state.userDetails);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\r\n\tconst userId = match.params.id;\r\n\r\n\tconst onSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(adminUpdateUser({ id: userId, name, email, isAdmin }));\r\n\t};\r\n\r\n\tconst { success } = useSelector(state => state.userUpdateAdmin);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo || !userInfo.isAdmin) return history.push('/');\r\n\t\telse if (!user || !user.name || user.id !== Number(userId)) {\r\n\t\t\tdispatch({ type: ADMIN_USER_UPDATE_RESET });\r\n\t\t\tdispatch(getUserDetails(userId));\r\n\t\t} else {\r\n\t\t\tsetName(user.name);\r\n\t\t\tsetEmail(user.email);\r\n\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t}\r\n\t}, [history, userInfo, user, dispatch, userId]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) history.goBack();\r\n\t}, [success, history]);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to='/admin/users'>\r\n\t\t\t\t<Button variant='light'>\r\n\t\t\t\t\t<i className='fas fa-arrow-left'></i> Go Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Update user</h1>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter your name...'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter your email address...'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tlabel='Is admin?'\r\n\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={e => setIsAdmin(e.target.checked)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default EditUserScreen;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Fragment } from 'react';\r\nimport { Button, Col, Modal, Row, Table } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { deleteProduct, listProducts } from '../actions/productActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Rating from '../components/Rating';\r\nimport Paginate from '../components/Paginate';\r\n\r\nconst ProductListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { products, loading, error, pages, page } = useSelector(state => state.productList);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\tconst { success } = useSelector(state => state.productDelete);\r\n\r\n\tconst [modal, setModal] = useState({ show: false, id: '' });\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo || !userInfo.isAdmin) return history.push('/');\r\n\t\tdispatch(listProducts(keyword));\r\n\t}, [dispatch, userInfo, history, success, keyword]);\r\n\r\n\tconst onDeleteConfirm = () => {\r\n\t\tdispatch(deleteProduct(modal.id));\r\n\t\tsetModal({ id: '', show: false });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row className='mb-2'>\r\n\t\t\t\t<Col md={10}>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={2} className='text-right'>\r\n\t\t\t\t\t<Link to='/admin/product/create'>\r\n\t\t\t\t\t\t<Button variant='primary'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> Add product\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Table responsive bordered hover className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t<th>Category</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Rating</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Stock</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Price</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Actions</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products.map(p => (\r\n\t\t\t\t\t\t\t\t<tr key={p.id}>\r\n\t\t\t\t\t\t\t\t\t<td>{p.id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{p.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{p.category}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={p.rating} color={'#f8e825'} />\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>{p.countInStock}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>$ {p.price}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/product/${p.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant='info' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => setModal({ show: true, id: p.id })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Row className='justify-content-center'>\r\n\t\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin entity='products' />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t\t<Modal show={modal.show} onHide={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Deleting product...</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>Are you sure to delete this product?</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant='secondary' onClick={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant='danger' onClick={onDeleteConfirm}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Button, Col, Form, InputGroup } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createOrUpdateProduct, showProduct } from '../actions/productActions';\r\nimport FormContainer from '../components/FormContainer';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { PRODUCT_DETAILS_RESET } from '../constants/productConstants';\r\n\r\nconst ProductFormScreen = ({ match, history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst {\r\n\t\tloading: productLoading,\r\n\t\terror: productError,\r\n\t\tproduct\r\n\t} = useSelector(state => state.productDetails);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\tconst { success } = useSelector(state => state.productCreateOrUpdate);\r\n\r\n\tconst productId = match.params.id;\r\n\tconst isCreateForm = productId === 'create';\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [price, setPrice] = useState(0);\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\tconst [image, setImage] = useState('');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo || !userInfo.isAdmin) return history.push('/');\r\n\t\telse if (isCreateForm) {\r\n\t\t\tdispatch({ type: PRODUCT_DETAILS_RESET });\r\n\t\t} else if (!product || product.id !== Number(productId)) dispatch(showProduct(productId));\r\n\t\telse {\r\n\t\t\tsetName(product.name);\r\n\t\t\tsetBrand(product.brand);\r\n\t\t\tsetCategory(product.category);\r\n\t\t\tsetPrice(product.price);\r\n\t\t\tsetDescription(product.description);\r\n\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\tsetImage(product.image);\r\n\t\t}\r\n\t}, [isCreateForm, dispatch, productId, history, userInfo, product]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) history.goBack();\r\n\t}, [success, history]);\r\n\r\n\tconst onSubmit = async e => {\r\n\t\te.preventDefault();\r\n\t\tlet payload = {\r\n\t\t\tname,\r\n\t\t\tbrand,\r\n\t\t\tcategory,\r\n\t\t\tdescription,\r\n\t\t\tprice,\r\n\t\t\tcountInStock\r\n\t\t};\r\n\r\n\t\tif (!isCreateForm) payload.id = productId;\r\n\r\n\t\tdispatch(createOrUpdateProduct(payload));\r\n\r\n\t\tif (image) {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('image', image);\r\n\r\n\t\t\tawait axios.post(`/api/products/${productId}/image/`, formData, {\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data', Authorization: `Bearer ${userInfo.token}` }\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Link to='/admin/products'>\r\n\t\t\t\t<Button variant='light'>\r\n\t\t\t\t\t<i className='fas fa-arrow-left'></i> Go Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>{isCreateForm ? 'Create' : 'Update'} Product</h1>\r\n\t\t\t\t{productLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : productError ? (\r\n\t\t\t\t\t<Message variant='danger'>{productError}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={onSubmit}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter your name...'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col sm={6}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter the brand...'\r\n\t\t\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\t\t\tonChange={e => setBrand(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col sm={6}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter the category...'\r\n\t\t\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\t\t\tonChange={e => setCategory(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\tplaceholder='Enter a description...'\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t\t\t<InputGroup.Text>$</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tstep='.01'\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter the price...'\r\n\t\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\t\tonChange={e => setPrice(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t<Col sm={6}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='stock'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Stock</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tstep='.01'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\t\t\tonChange={e => setCountInStock(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col sm={6}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\t\t\tid='imageField'\r\n\t\t\t\t\t\t\t\t\t\tlabel={typeof image === 'string' ? image : image.name}\r\n\t\t\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\t\t\tonChange={e => setImage(e.target.files[0])}></Form.File>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Form.Row>\r\n\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\t{isCreateForm ? 'Create' : 'Update'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductFormScreen;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Button, Modal, Row, Table } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { deliverOrder, getOrdersAdmin } from '../actions/orderActions';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { orders, loading, error, pages, page } = useSelector(state => state.orderListAdmin);\r\n\tconst { userInfo } = useSelector(state => state.userLogin);\r\n\tconst { success } = useSelector(state => state.orderDeliver);\r\n\r\n\tconst [modal, setModal] = useState({ show: false, id: '' });\r\n\r\n\tlet keyword = history.location.search;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo || !userInfo.isAdmin) return history.push('/');\r\n\t\tdispatch(getOrdersAdmin(keyword));\r\n\t}, [dispatch, userInfo, history, success, keyword]);\r\n\r\n\tconst onDeliverConfirm = () => {\r\n\t\tdispatch(deliverOrder(modal.id));\r\n\t\tsetModal({ id: '', show: false });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading === undefined || loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Table responsive bordered hover className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Price</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Paid</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Paid At</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Delivered</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Delivered At</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Actions</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map(o => (\r\n\t\t\t\t\t\t\t\t<tr key={o.id}>\r\n\t\t\t\t\t\t\t\t\t<td>{o.id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{o.user.email}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>$ {o.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t{o.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<i style={{ color: 'green' }} className='fas fa-check'></i>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t&#10008;{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t{o.isPaid ? new Date(o.paidAt).toDateString() : '-'}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t{o.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ color: 'green' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t&#10008;{' '}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t{o.isDelivered ? new Date(o.deliveredAt).toDateString() : '-'}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${o.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant='info' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='success'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={o.isDelivered}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => setModal({ show: true, id: o.id })}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plane'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Row className='justify-content-center'>\r\n\t\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin entity='orders' />\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t\t<Modal show={modal.show} onHide={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Delivering order...</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>Are you sure to mark this order as delivered?</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant='secondary' onClick={() => setModal({ id: '', show: false })}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant='success' onClick={onDeliverConfirm}>\r\n\t\t\t\t\t\tDeliver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import { Container } from 'react-bootstrap';\r\nimport { HashRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport CartScreen from './screens/CartScreen';\r\nimport LoginScreen from './screens/LoginScreen';\r\nimport SignupScreen from './screens/SignupScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\nimport ShippingScreen from './screens/ShippingScreen';\r\nimport PaymentScreen from './screens/PaymentScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport UserListScreen from './screens/UserListScreen';\r\nimport EditUserScreen from './screens/EditUserScreen';\r\nimport ProductListScreen from './screens/ProductListScreen';\r\nimport ProductFormScreen from './screens/ProductFormScreen';\r\nimport OrderListScreen from './screens/OrderListScreen';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Header />\r\n\t\t\t<main className='py-3'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Route path='/' exact component={HomeScreen} />\r\n\t\t\t\t\t<Route path='/login' component={LoginScreen} />\r\n\t\t\t\t\t<Route path='/signup' component={SignupScreen} />\r\n\t\t\t\t\t<Route path='/profile' component={ProfileScreen} />\r\n\t\t\t\t\t<Route path='/shipping' component={ShippingScreen} />\r\n\t\t\t\t\t<Route path='/payment' component={PaymentScreen} />\r\n\t\t\t\t\t<Route path='/order/:id' component={OrderScreen} />\r\n\t\t\t\t\t<Route path='/order' exact component={PlaceOrderScreen} />\r\n\t\t\t\t\t<Route path='/product/:id' component={ProductScreen} />\r\n\t\t\t\t\t<Route path='/cart/:id?' component={CartScreen} />\r\n\t\t\t\t\t<Route path='/admin/users' component={UserListScreen} />\r\n\t\t\t\t\t<Route path='/admin/user/:id' component={EditUserScreen} />\r\n\t\t\t\t\t<Route path='/admin/products' component={ProductListScreen} />\r\n\t\t\t\t\t<Route path='/admin/product/:id' component={ProductFormScreen} />\r\n\t\t\t\t\t<Route path='/admin/orders' component={OrderListScreen} />\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nimport './index.css';\nimport './bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}